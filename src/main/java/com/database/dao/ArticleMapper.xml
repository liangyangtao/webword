<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.database.dao.ArticleMapper">
  <resultMap id="BaseResultMap" type="com.database.bean.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    <id column="article_id" jdbcType="INTEGER" property="articleId" />
    <result column="savestatus" jdbcType="INTEGER" property="savestatus" />
    <result column="article_name" jdbcType="VARCHAR" property="articleName" />
    <result column="article_type" jdbcType="CHAR" property="articleType" />
    <result column="user_id" jdbcType="INTEGER" property="userId" />
    <result column="pass_type" jdbcType="CHAR" property="passType" />
    <result column="pass_time" jdbcType="TIMESTAMP" property="passTime" />
    <result column="insert_time" jdbcType="TIMESTAMP" property="insertTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="article_skip" jdbcType="VARCHAR" property="articleSkip" />
    <result column="pass_user" jdbcType="INTEGER" property="passUser" />
    <result column="down_time" jdbcType="TIMESTAMP" property="downTime" />
    <result column="attachment_path" jdbcType="VARCHAR" property="attachmentPath" />
    <result column="article_key_word" jdbcType="VARCHAR" property="articleKeyWord" />
    <result column="article_label" jdbcType="VARCHAR" property="articleLabel" />
    <result column="article_info" jdbcType="VARCHAR" property="articleInfo" />
    <result column="article_index_id" jdbcType="VARCHAR" property="articleIndexId" />
    <result column="html_name" jdbcType="VARCHAR" property="htmlName" />
    <result column="html_page" jdbcType="VARCHAR" property="htmlPage" />
    <result column="article_cover" jdbcType="VARCHAR" property="articleCover" />
    <result column="submit_time" jdbcType="TIMESTAMP" property="submitTime" />
    <result column="doc_path" jdbcType="VARCHAR" property="docPath" />
    <result column="article_save" jdbcType="CHAR" property="articleSave" />
    <result column="article_format" jdbcType="CHAR" property="articleFormat" />
    <result column="article_journal_id" jdbcType="INTEGER" property="articleJournalId" />
    <result column="article_journal_name" jdbcType="VARCHAR" property="articleJournalName" />
    <result column="article_journal_time" jdbcType="TIMESTAMP" property="articleJournalTime" />
    <result column="article_price" jdbcType="DOUBLE" property="articlePrice" />
    <result column="content_status" jdbcType="INTEGER" property="contentStatus" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    article_id, savestatus, article_name, article_type, user_id, pass_type, pass_time, 
    insert_time, update_time, article_skip, pass_user, down_time, attachment_path, article_key_word, 
    article_label, article_info, article_index_id, html_name, html_page, article_cover, 
    submit_time, doc_path, article_save, article_format, article_journal_id, article_journal_name, 
    article_journal_time, article_price, content_status
  </sql>
  <select id="selectByExample" parameterType="com.database.bean.ArticleExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from know_article
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
    <if test="limitStart != null and limitStart&gt;=0">
      limit #{limitStart} , #{limitEnd}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from know_article
    where article_id = #{articleId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    delete from know_article
    where article_id = #{articleId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.database.bean.ArticleExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    delete from know_article
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.database.bean.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    insert into know_article (article_id, savestatus, article_name, 
      article_type, user_id, pass_type, 
      pass_time, insert_time, update_time, 
      article_skip, pass_user, down_time, 
      attachment_path, article_key_word, article_label, 
      article_info, article_index_id, html_name, 
      html_page, article_cover, submit_time, 
      doc_path, article_save, article_format, 
      article_journal_id, article_journal_name, article_journal_time, 
      article_price, content_status)
    values (#{articleId,jdbcType=INTEGER}, #{savestatus,jdbcType=INTEGER}, #{articleName,jdbcType=VARCHAR}, 
      #{articleType,jdbcType=CHAR}, #{userId,jdbcType=INTEGER}, #{passType,jdbcType=CHAR}, 
      #{passTime,jdbcType=TIMESTAMP}, #{insertTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{articleSkip,jdbcType=VARCHAR}, #{passUser,jdbcType=INTEGER}, #{downTime,jdbcType=TIMESTAMP}, 
      #{attachmentPath,jdbcType=VARCHAR}, #{articleKeyWord,jdbcType=VARCHAR}, #{articleLabel,jdbcType=VARCHAR}, 
      #{articleInfo,jdbcType=VARCHAR}, #{articleIndexId,jdbcType=VARCHAR}, #{htmlName,jdbcType=VARCHAR}, 
      #{htmlPage,jdbcType=VARCHAR}, #{articleCover,jdbcType=VARCHAR}, #{submitTime,jdbcType=TIMESTAMP}, 
      #{docPath,jdbcType=VARCHAR}, #{articleSave,jdbcType=CHAR}, #{articleFormat,jdbcType=CHAR}, 
      #{articleJournalId,jdbcType=INTEGER}, #{articleJournalName,jdbcType=VARCHAR}, #{articleJournalTime,jdbcType=TIMESTAMP}, 
      #{articlePrice,jdbcType=DOUBLE}, #{contentStatus,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.database.bean.Article" useGeneratedKeys="true" keyProperty="articleId">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    insert into know_article
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="articleId != null">
        article_id,
      </if>
      <if test="savestatus != null">
        savestatus,
      </if>
      <if test="articleName != null">
        article_name,
      </if>
      <if test="articleType != null">
        article_type,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="passType != null">
        pass_type,
      </if>
      <if test="passTime != null">
        pass_time,
      </if>
      <if test="insertTime != null">
        insert_time,
      </if>
      <if test="updateTime != null">
        update_time,
      </if>
      <if test="articleSkip != null">
        article_skip,
      </if>
      <if test="passUser != null">
        pass_user,
      </if>
      <if test="downTime != null">
        down_time,
      </if>
      <if test="attachmentPath != null">
        attachment_path,
      </if>
      <if test="articleKeyWord != null">
        article_key_word,
      </if>
      <if test="articleLabel != null">
        article_label,
      </if>
      <if test="articleInfo != null">
        article_info,
      </if>
      <if test="articleIndexId != null">
        article_index_id,
      </if>
      <if test="htmlName != null">
        html_name,
      </if>
      <if test="htmlPage != null">
        html_page,
      </if>
      <if test="articleCover != null">
        article_cover,
      </if>
      <if test="submitTime != null">
        submit_time,
      </if>
      <if test="docPath != null">
        doc_path,
      </if>
      <if test="articleSave != null">
        article_save,
      </if>
      <if test="articleFormat != null">
        article_format,
      </if>
      <if test="articleJournalId != null">
        article_journal_id,
      </if>
      <if test="articleJournalName != null">
        article_journal_name,
      </if>
      <if test="articleJournalTime != null">
        article_journal_time,
      </if>
      <if test="articlePrice != null">
        article_price,
      </if>
      <if test="contentStatus != null">
        content_status,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="articleId != null">
        #{articleId,jdbcType=INTEGER},
      </if>
      <if test="savestatus != null">
        #{savestatus,jdbcType=INTEGER},
      </if>
      <if test="articleName != null">
        #{articleName,jdbcType=VARCHAR},
      </if>
      <if test="articleType != null">
        #{articleType,jdbcType=CHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="passType != null">
        #{passType,jdbcType=CHAR},
      </if>
      <if test="passTime != null">
        #{passTime,jdbcType=TIMESTAMP},
      </if>
      <if test="insertTime != null">
        #{insertTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="articleSkip != null">
        #{articleSkip,jdbcType=VARCHAR},
      </if>
      <if test="passUser != null">
        #{passUser,jdbcType=INTEGER},
      </if>
      <if test="downTime != null">
        #{downTime,jdbcType=TIMESTAMP},
      </if>
      <if test="attachmentPath != null">
        #{attachmentPath,jdbcType=VARCHAR},
      </if>
      <if test="articleKeyWord != null">
        #{articleKeyWord,jdbcType=VARCHAR},
      </if>
      <if test="articleLabel != null">
        #{articleLabel,jdbcType=VARCHAR},
      </if>
      <if test="articleInfo != null">
        #{articleInfo,jdbcType=VARCHAR},
      </if>
      <if test="articleIndexId != null">
        #{articleIndexId,jdbcType=VARCHAR},
      </if>
      <if test="htmlName != null">
        #{htmlName,jdbcType=VARCHAR},
      </if>
      <if test="htmlPage != null">
        #{htmlPage,jdbcType=VARCHAR},
      </if>
      <if test="articleCover != null">
        #{articleCover,jdbcType=VARCHAR},
      </if>
      <if test="submitTime != null">
        #{submitTime,jdbcType=TIMESTAMP},
      </if>
      <if test="docPath != null">
        #{docPath,jdbcType=VARCHAR},
      </if>
      <if test="articleSave != null">
        #{articleSave,jdbcType=CHAR},
      </if>
      <if test="articleFormat != null">
        #{articleFormat,jdbcType=CHAR},
      </if>
      <if test="articleJournalId != null">
        #{articleJournalId,jdbcType=INTEGER},
      </if>
      <if test="articleJournalName != null">
        #{articleJournalName,jdbcType=VARCHAR},
      </if>
      <if test="articleJournalTime != null">
        #{articleJournalTime,jdbcType=TIMESTAMP},
      </if>
      <if test="articlePrice != null">
        #{articlePrice,jdbcType=DOUBLE},
      </if>
      <if test="contentStatus != null">
        #{contentStatus,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.database.bean.ArticleExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    select count(*) from know_article
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    update know_article
    <set>
      <if test="record.articleId != null">
        article_id = #{record.articleId,jdbcType=INTEGER},
      </if>
      <if test="record.savestatus != null">
        savestatus = #{record.savestatus,jdbcType=INTEGER},
      </if>
      <if test="record.articleName != null">
        article_name = #{record.articleName,jdbcType=VARCHAR},
      </if>
      <if test="record.articleType != null">
        article_type = #{record.articleType,jdbcType=CHAR},
      </if>
      <if test="record.userId != null">
        user_id = #{record.userId,jdbcType=INTEGER},
      </if>
      <if test="record.passType != null">
        pass_type = #{record.passType,jdbcType=CHAR},
      </if>
      <if test="record.passTime != null">
        pass_time = #{record.passTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.insertTime != null">
        insert_time = #{record.insertTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateTime != null">
        update_time = #{record.updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.articleSkip != null">
        article_skip = #{record.articleSkip,jdbcType=VARCHAR},
      </if>
      <if test="record.passUser != null">
        pass_user = #{record.passUser,jdbcType=INTEGER},
      </if>
      <if test="record.downTime != null">
        down_time = #{record.downTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.attachmentPath != null">
        attachment_path = #{record.attachmentPath,jdbcType=VARCHAR},
      </if>
      <if test="record.articleKeyWord != null">
        article_key_word = #{record.articleKeyWord,jdbcType=VARCHAR},
      </if>
      <if test="record.articleLabel != null">
        article_label = #{record.articleLabel,jdbcType=VARCHAR},
      </if>
      <if test="record.articleInfo != null">
        article_info = #{record.articleInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.articleIndexId != null">
        article_index_id = #{record.articleIndexId,jdbcType=VARCHAR},
      </if>
      <if test="record.htmlName != null">
        html_name = #{record.htmlName,jdbcType=VARCHAR},
      </if>
      <if test="record.htmlPage != null">
        html_page = #{record.htmlPage,jdbcType=VARCHAR},
      </if>
      <if test="record.articleCover != null">
        article_cover = #{record.articleCover,jdbcType=VARCHAR},
      </if>
      <if test="record.submitTime != null">
        submit_time = #{record.submitTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.docPath != null">
        doc_path = #{record.docPath,jdbcType=VARCHAR},
      </if>
      <if test="record.articleSave != null">
        article_save = #{record.articleSave,jdbcType=CHAR},
      </if>
      <if test="record.articleFormat != null">
        article_format = #{record.articleFormat,jdbcType=CHAR},
      </if>
      <if test="record.articleJournalId != null">
        article_journal_id = #{record.articleJournalId,jdbcType=INTEGER},
      </if>
      <if test="record.articleJournalName != null">
        article_journal_name = #{record.articleJournalName,jdbcType=VARCHAR},
      </if>
      <if test="record.articleJournalTime != null">
        article_journal_time = #{record.articleJournalTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.articlePrice != null">
        article_price = #{record.articlePrice,jdbcType=DOUBLE},
      </if>
      <if test="record.contentStatus != null">
        content_status = #{record.contentStatus,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    update know_article
    set article_id = #{record.articleId,jdbcType=INTEGER},
      savestatus = #{record.savestatus,jdbcType=INTEGER},
      article_name = #{record.articleName,jdbcType=VARCHAR},
      article_type = #{record.articleType,jdbcType=CHAR},
      user_id = #{record.userId,jdbcType=INTEGER},
      pass_type = #{record.passType,jdbcType=CHAR},
      pass_time = #{record.passTime,jdbcType=TIMESTAMP},
      insert_time = #{record.insertTime,jdbcType=TIMESTAMP},
      update_time = #{record.updateTime,jdbcType=TIMESTAMP},
      article_skip = #{record.articleSkip,jdbcType=VARCHAR},
      pass_user = #{record.passUser,jdbcType=INTEGER},
      down_time = #{record.downTime,jdbcType=TIMESTAMP},
      attachment_path = #{record.attachmentPath,jdbcType=VARCHAR},
      article_key_word = #{record.articleKeyWord,jdbcType=VARCHAR},
      article_label = #{record.articleLabel,jdbcType=VARCHAR},
      article_info = #{record.articleInfo,jdbcType=VARCHAR},
      article_index_id = #{record.articleIndexId,jdbcType=VARCHAR},
      html_name = #{record.htmlName,jdbcType=VARCHAR},
      html_page = #{record.htmlPage,jdbcType=VARCHAR},
      article_cover = #{record.articleCover,jdbcType=VARCHAR},
      submit_time = #{record.submitTime,jdbcType=TIMESTAMP},
      doc_path = #{record.docPath,jdbcType=VARCHAR},
      article_save = #{record.articleSave,jdbcType=CHAR},
      article_format = #{record.articleFormat,jdbcType=CHAR},
      article_journal_id = #{record.articleJournalId,jdbcType=INTEGER},
      article_journal_name = #{record.articleJournalName,jdbcType=VARCHAR},
      article_journal_time = #{record.articleJournalTime,jdbcType=TIMESTAMP},
      article_price = #{record.articlePrice,jdbcType=DOUBLE},
      content_status = #{record.contentStatus,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.database.bean.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    update know_article
    <set>
      <if test="savestatus != null">
        savestatus = #{savestatus,jdbcType=INTEGER},
      </if>
      <if test="articleName != null">
        article_name = #{articleName,jdbcType=VARCHAR},
      </if>
      <if test="articleType != null">
        article_type = #{articleType,jdbcType=CHAR},
      </if>
      <if test="userId != null">
        user_id = #{userId,jdbcType=INTEGER},
      </if>
      <if test="passType != null">
        pass_type = #{passType,jdbcType=CHAR},
      </if>
      <if test="passTime != null">
        pass_time = #{passTime,jdbcType=TIMESTAMP},
      </if>
      <if test="insertTime != null">
        insert_time = #{insertTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="articleSkip != null">
        article_skip = #{articleSkip,jdbcType=VARCHAR},
      </if>
      <if test="passUser != null">
        pass_user = #{passUser,jdbcType=INTEGER},
      </if>
      <if test="downTime != null">
        down_time = #{downTime,jdbcType=TIMESTAMP},
      </if>
      <if test="attachmentPath != null">
        attachment_path = #{attachmentPath,jdbcType=VARCHAR},
      </if>
      <if test="articleKeyWord != null">
        article_key_word = #{articleKeyWord,jdbcType=VARCHAR},
      </if>
      <if test="articleLabel != null">
        article_label = #{articleLabel,jdbcType=VARCHAR},
      </if>
      <if test="articleInfo != null">
        article_info = #{articleInfo,jdbcType=VARCHAR},
      </if>
      <if test="articleIndexId != null">
        article_index_id = #{articleIndexId,jdbcType=VARCHAR},
      </if>
      <if test="htmlName != null">
        html_name = #{htmlName,jdbcType=VARCHAR},
      </if>
      <if test="htmlPage != null">
        html_page = #{htmlPage,jdbcType=VARCHAR},
      </if>
      <if test="articleCover != null">
        article_cover = #{articleCover,jdbcType=VARCHAR},
      </if>
      <if test="submitTime != null">
        submit_time = #{submitTime,jdbcType=TIMESTAMP},
      </if>
      <if test="docPath != null">
        doc_path = #{docPath,jdbcType=VARCHAR},
      </if>
      <if test="articleSave != null">
        article_save = #{articleSave,jdbcType=CHAR},
      </if>
      <if test="articleFormat != null">
        article_format = #{articleFormat,jdbcType=CHAR},
      </if>
      <if test="articleJournalId != null">
        article_journal_id = #{articleJournalId,jdbcType=INTEGER},
      </if>
      <if test="articleJournalName != null">
        article_journal_name = #{articleJournalName,jdbcType=VARCHAR},
      </if>
      <if test="articleJournalTime != null">
        article_journal_time = #{articleJournalTime,jdbcType=TIMESTAMP},
      </if>
      <if test="articlePrice != null">
        article_price = #{articlePrice,jdbcType=DOUBLE},
      </if>
      <if test="contentStatus != null">
        content_status = #{contentStatus,jdbcType=INTEGER},
      </if>
    </set>
    where article_id = #{articleId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.database.bean.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 07 10:31:08 CST 2016.
    -->
    update know_article
    set savestatus = #{savestatus,jdbcType=INTEGER},
      article_name = #{articleName,jdbcType=VARCHAR},
      article_type = #{articleType,jdbcType=CHAR},
      user_id = #{userId,jdbcType=INTEGER},
      pass_type = #{passType,jdbcType=CHAR},
      pass_time = #{passTime,jdbcType=TIMESTAMP},
      insert_time = #{insertTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      article_skip = #{articleSkip,jdbcType=VARCHAR},
      pass_user = #{passUser,jdbcType=INTEGER},
      down_time = #{downTime,jdbcType=TIMESTAMP},
      attachment_path = #{attachmentPath,jdbcType=VARCHAR},
      article_key_word = #{articleKeyWord,jdbcType=VARCHAR},
      article_label = #{articleLabel,jdbcType=VARCHAR},
      article_info = #{articleInfo,jdbcType=VARCHAR},
      article_index_id = #{articleIndexId,jdbcType=VARCHAR},
      html_name = #{htmlName,jdbcType=VARCHAR},
      html_page = #{htmlPage,jdbcType=VARCHAR},
      article_cover = #{articleCover,jdbcType=VARCHAR},
      submit_time = #{submitTime,jdbcType=TIMESTAMP},
      doc_path = #{docPath,jdbcType=VARCHAR},
      article_save = #{articleSave,jdbcType=CHAR},
      article_format = #{articleFormat,jdbcType=CHAR},
      article_journal_id = #{articleJournalId,jdbcType=INTEGER},
      article_journal_name = #{articleJournalName,jdbcType=VARCHAR},
      article_journal_time = #{articleJournalTime,jdbcType=TIMESTAMP},
      article_price = #{articlePrice,jdbcType=DOUBLE},
      content_status = #{contentStatus,jdbcType=INTEGER}
    where article_id = #{articleId,jdbcType=INTEGER}
  </update>
  
    <!-- user-->
    <resultMap id="articleVo" type="com.web.word.bean.ArticleAndContent">
		<id column="article_id" property="id" />
		<result column="article_name" property="name" />
		<result column="article_type" property="type" />
		<result column="user_id" property="user_id" />
		<result column="user_name" property="user_name" />
		<result column="pass_type" property="pass_type" />
		<result column="pass_time" property="pass_time" />
		<result column="insert_time" property="insert_time" />
		<result column="update_time" property="update_time" />
		<result column="pass_user" property="pass_user" />
		<result column="check_number" property="check_number" />
		<result column="keyword" property="keyword" />
		<result column="article_skip" property="skip" />
		<result column="plate_id" property="plate" />
	</resultMap>
	<resultMap id="nodeBean" type="com.web.word.bean.NodeBean">
		<id column="node_id" property="nodeId" />
		<result column="article_id" property="articleId" />
		<result column="pid" property="pid" />
		<result column="node_name_static" property="nodeNameStatic" />
		<result column="node_name_dynamic" property="nodeNameDynamic" />
		<result column="order" property="order" />
		<result column="node_content" property="content" />
		<result column="contentplugin_id" property="contentpluginId" />
		<result column="contentType" property="contentType" />
	</resultMap>

	<resultMap id="nodeContentBean" type="com.web.word.bean.NodeContentBean">
		<id column="whole_id" property="contentId" />
		<result column="node_content" property="content" />
		<result column="article_id" property="articleId" />
		<result column="node_id" property="nodeId" />
	</resultMap>
	
	<!--分类信息-->
	<resultMap id="knowplate" type="com.web.homePage.bean.KnowPlate">
		<id column="plate_id" property="plate_id" />
		<result column="pid" property="pid" />
		<result column="plate_name" property="plate_name" />
	</resultMap>
	
    <!--期刊分期信息-->
	<resultMap id="journalInfoBean" type="com.web.view.bean.JournalInfoBean">
		<id column="article_id" property="articleId" />
		<result column="article_journal_time" property="articleJournalTime"/>
		<result column="article_year" property="articleYear" />
		<result column="article_month" property="articleMonth" />
		<result column="article_day" property="articleDay" />
		<result column="journal_id" property="journalId" />
		<result column="journal_type_id" property="journalTypeId" />
	</resultMap>
	
  <!--文章update_time字段修改 -->
	<update id="updateArticleTime" parameterType="int">
		UPDATE know_article SET update_time=NOW() WHERE article_id=#{articleId}
	</update>
	<!-- 文章重名验证，返回id -->
	<select id="checkArticleName" parameterType="com.database.bean.Article" resultMap="BaseResultMap">
		select article_id 
		  from know_article
		 where user_id = #{userId}
		   and article_name = #{articleName}
		   and article_type = #{articleType}
		   and article_id != #{articleId}
		 limit 0,1
	</select>
	<!-- 提交审核时文章重名验证，返回id -->
	<select id="submitCheckArticleName" parameterType="com.database.bean.Article" resultMap="BaseResultMap">
		select article_id 
		  from know_article
		 where article_name = #{articleName}
		   and article_type = #{articleType}
		   and article_id != #{articleId}
		 limit 0,1
	</select>
	<!-- 判断当前文章是否属于当前用户 -->
	 <select id="articleIsBelongMe" parameterType="com.database.bean.Article" resultType="int"> 
		SELECT COUNT(1) FROM know_article as a WHERE a.article_id= #{articleId} AND a.user_id=#{userId};
	</select>
	
	<!-- 更新文章表 -->
	<update id="updateArticle" parameterType="com.web.word.bean.ArticleAndContent"> 
		UPDATE know_article SET article_name=#{name},article_type =#{type},pass_type ='SUBMITTED',
        pass_time = NOW(), article_skip = #{skip} WHERE article_id = #{id}
	</update>
	
	<!-- 插入关键字表-->
	<insert id="insertKeyword" parameterType="com.web.word.bean.ArticleAndContent"> 
		INSERT INTO `know_keyword`(`article_id`,`keyword`)VALUES(#{id},#{keyword})
		ON DUPLICATE KEY UPDATE keyword=#{keyword}
	</insert>
	
	<!-- 插入或更新文章plate关系表 -->
	<insert id="insertUpadateArtPlate" parameterType="com.web.word.bean.ArticleAndContent"> 
		INSERT INTO know_plate_article (plate_id,article_id) VALUES (#{plate},#{id})
        ON DUPLICATE KEY UPDATE plate_id=#{plate}
	</insert>
	
	<!-- 修改文章保存标志位 -->
	<update id="updateArticleSaveStatus" parameterType="HashMap">
		UPDATE know_article set savestatus=1 WHERE article_id=#{articleId}
	</update>
	
	<!--更新文章的状态-->
	 <update id="updateArticleStatus" parameterType="HashMap">
	    UPDATE know_article as a SET a.pass_type=#{status} WHERE a.article_id=#{articleId};
	</update>
	
	<!-- 插入新的文章 -->
	<insert id="insertNewArticle" parameterType="com.database.bean.Article"> 
	insert into know_article (savestatus, article_name, 
      article_type, user_id, pass_type, 
      pass_time, insert_time, update_time, 
      article_skip, pass_user, down_time, 
      attachment_path)
    values (#{savestatus,jdbcType=INTEGER}, #{articleName,jdbcType=VARCHAR}, 
      #{articleType,jdbcType=CHAR}, #{userId,jdbcType=INTEGER}, #{passType,jdbcType=CHAR}, 
      #{passTime,jdbcType=TIMESTAMP}, #{insertTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{articleSkip,jdbcType=VARCHAR}, #{passUser,jdbcType=INTEGER}, #{downTime,jdbcType=TIMESTAMP}, 
      #{attachmentPath,jdbcType=VARCHAR})
	</insert>
	
	<!-- 获取样式 -->
	<select id="getArticleStyle" parameterType="int" resultType="String">
		select style from forum_themes order by themes_id limit 0,1 
	</select>
	
	<select id="selectNodeTempByArticleId" parameterType="com.web.word.bean.NodeBean" resultMap="nodeBean">
		select n.node_id  ,  n.pid , n.article_id, n.node_name_static,  n.node_name_dynamic, n.`order`,n.contentplugin_id, w.node_content
		  from know_node n
		  left join know_whole w on n.node_id = w.node_id 
		 where n.article_id=#{articleId} 
		 order by pid, `order`
	</select>
	
	<select id="selectContentTempByArticleId" parameterType="com.web.word.bean.NodeContentBean" resultMap="nodeContentBean">
		select
		whole_id,node_content,node_id,article_id from
		know_whole where article_id=#{articleId}
	</select>
	
	<!-- 更新文档更新的时间 -->
	<update id="updateArticleDownTime" parameterType="int">
		UPDATE know_article SET down_time=NOW() WHERE article_id=#{articleId}
	</update>
	
	<!-- 查询出pid为0的分类名称（一级菜单） -->
  <select id="queryAllPlate" parameterType="int" resultMap="knowplate">
  	SELECT * FROM know_plate WHERE PID=#{pid} 
  	order by bigclaorder
  </select>
  <!-- 更新文档名字 -->
  <update id="updateArticleName" parameterType="com.database.bean.Article">
    update know_article
    set
    article_name = #{articleName,jdbcType=VARCHAR},
    pass_type = #{passType,jdbcType=CHAR}
    where article_id = #{articleId,jdbcType=INTEGER}
  </update>
  
  <select id="selectArticleLike" parameterType="HashMap" resultMap="BaseResultMap">
    select
    *
    from know_article
    where  ${articleName}
  </select>
  
  <!--查询期刊的分期信息--> 
  <select id="getJournalInfo" parameterType="com.web.view.bean.JournalInfoBean" resultMap="journalInfoBean">
    select kn.article_id,
           kn.article_journal_time,
		   DATE_FORMAT(kn.article_journal_time, '%Y') article_year,
		   DATE_FORMAT(kn.article_journal_time, '%m') article_month,
		   DATE_FORMAT(kn.article_journal_time, '%d') article_day,
		   wj.id journal_id,
		   wj.type_id journal_type_id
	from know_article kn 
	left join word_journal wj on wj.id = kn.article_journal_id
	where kn.article_journal_id = #{journalId} 
	and kn.pass_type = 'PASSED' 
	<if test="articleJournalTime != null &amp; compareTime == null">
        and article_journal_time &lt;= #{articleJournalTime}
       	order by kn.article_journal_time desc
    </if>
    <if test="compareTime != null">
        and article_journal_time &gt;= #{compareTime}
       	order by kn.article_journal_time asc
    </if>
    <if test="articleJournalTime == null">
       	order by kn.article_journal_time desc
    </if>
	<if test="articleJournalTime != null">
      limit 9
    </if>
  </select>
  <select id="getRecommendJournal" resultMap="BaseResultMap" parameterType="Map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 17 10:07:59 GMT+08:00 2015.
    -->
    SELECT DISTINCT
    	distinct a.*
	FROM
		know_article a
	JOIN word_resource r ON a.article_id = r.article_id
	JOIN word_resource rr
	on r.user_id = rr.user_id 
	WHERE
		a.article_journal_id=0 AND a.pass_type="PASSED" AND
		rr.user_id != #{userId}
	<if test="journalIds!= '' or articleIds!='' ">	
		AND (
		<if test="journalIds != ''" >
	       rr.journal_id IN (#{journalIds})
	     </if>
		 <if test="articleIds != ''" >
	     <if test="journalIds != ''" >OR</if> rr.article_id IN (#{articleIds})
	     </if>
		)
	</if>
	limit 0,10 
  </select>
  <select id="searchArticleByResourceCount" parameterType="com.database.bean.Article" resultType="java.lang.Integer">
    select count(*) from know_article where 
	pass_type=#{passType,jdbcType=CHAR}  
	and  article_save=#{articleSave,jdbcType=CHAR}  
	and article_type=#{articleType,jdbcType=CHAR}  
	and (
	article_id  in( select article_id from word_resource where user_id=#{userId,jdbcType=INTEGER} and resource_type!="journal") 
	or article_journal_id in (select journal_id from word_resource where user_id=#{userId,jdbcType=INTEGER}  and resource_type="journal" )
	or article_price=#{articlePrice,jdbcType=DOUBLE}
	)
	<if test="articleName != null">
     and article_name like "%"#{articleName,jdbcType=VARCHAR}"%"  
    </if>
    order by update_time desc  
  </select>
  <select id="searchArticleByResource" parameterType="com.database.bean.Article" resultMap="BaseResultMap">
	select * from know_article where 
	pass_type=#{passType,jdbcType=CHAR}  
	and  article_save=#{articleSave,jdbcType=CHAR}  
	and article_type=#{articleType,jdbcType=CHAR}  
	and ( 
	article_id  in( select article_id from word_resource where user_id=#{userId,jdbcType=INTEGER} and resource_type!="journal" ) 
	or article_journal_id in (select journal_id from word_resource where user_id=#{userId,jdbcType=INTEGER}  and resource_type="journal" )
	or article_price=#{articlePrice,jdbcType=DOUBLE} 
	)
	<if test="articleName != null">
     and article_name like "%"#{articleName,jdbcType=VARCHAR}"%" 
    </if>
    order by update_time desc  
    limit #{savestatus,jdbcType=INTEGER} ,  #{contentStatus,jdbcType=INTEGER}
  </select>
</mapper>